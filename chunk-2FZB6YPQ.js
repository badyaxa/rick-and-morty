import{a as j,b as A,c as a,d as g,e as u,g as l,h as f,i as h}from"./chunk-URAEELBG.js";var I=j((p,w)=>{"use strict";var d=Object.defineProperty,P=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,$=(e,t)=>{for(var s in t)d(e,s,{get:t[s],enumerable:!0})},q=(e,t,s,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of O(t))!M.call(e,r)&&r!==s&&d(e,r,{get:()=>t[r],enumerable:!(o=P(t,r))||o.enumerable});return e},x=e=>q(d({},"__esModule",{value:!0}),e),y={};$(y,{getCharacter:()=>Y,getCharacters:()=>N,getEndpoints:()=>G,getEpisode:()=>z,getEpisodes:()=>U,getLocation:()=>S,getLocations:()=>D});w.exports=x(y);var L={required:"You are using an invalid argument. As an argument use an integer (Id) or an array of integers (Ids).",optional:"You are using an invalid argument. As an argument use a filter object or leave it blank."},m=e=>typeof e=="number"&&Number.isInteger(e),R=e=>Array.isArray(e)&&e.every(m),k=(e,t)=>{if(t&&m(e))return`/${e}`;if(t&&R(e)){let s=e;return`/${s.length?s:"[0]"}`}if(!t&&typeof e=="object"&&!Array.isArray(e))return`/?${new URLSearchParams(e).toString()}`;throw new Error(L[t?"required":"optional"])},C=k,B=e=>a(p,null,function*(){let t=yield fetch(`https://rickandmortyapi.com/api/${e}`);return t.ok?{data:yield t.json(),status:t.status,statusMessage:t.statusText}:{data:{},status:t.status,statusMessage:t.statusText}}),T=B,F=o=>a(p,[o],function*({endpoint:e,options:t,isIdRequired:s=!1}){let r=C(t,s);return T(`${e}/${r}`)}),n=F,v="character",N=e=>n({endpoint:v,options:e??{}}),Y=e=>n({endpoint:v,options:e,isIdRequired:!0}),E="location",D=e=>n({endpoint:E,options:e??{}}),S=e=>n({endpoint:E,options:e,isIdRequired:!0}),b="episode",U=e=>n({endpoint:b,options:e??{}}),z=e=>n({endpoint:b,options:e,isIdRequired:!0}),G=()=>n({endpoint:"",options:{}})});var c=A(I());var Q=(()=>{let t=class t{constructor(){this.episodes=[],this.currentPage=1,this.getEpisodeObservable=o=>g((0,c.getEpisode)(o)).pipe(l(r=>Array.isArray(r.data)?u(void 0):u(r.data)),f(r=>(console.error("Error fetching episode:",r),u(void 0)))),this.getEpisodeById=o=>a(this,null,function*(){(0,c.getEpisode)(o).then(r=>r.status===200?r.data:(console.error("Error fetching episode:",r.statusMessage),null)).catch(r=>(console.error("Exception while fetching episode:",r),null))}),this.getEpisodesByPage=o=>a(this,null,function*(){try{let i=yield(0,c.getEpisodes)({page:o});return console.log(i.status),console.log(i.statusMessage),console.log(i.data),i.status===200?i.data?.results||[]:(console.error("Error fetching episodes:",i.statusMessage),[])}catch(r){return console.error("Exception while fetching episodes:",r),[]}})}loadEpisodes(o){return a(this,null,function*(){try{this.episodes=yield this.getEpisodesByPage(o)}catch(r){console.error("Error loading episodes:",r)}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();export{I as a,Q as b};
